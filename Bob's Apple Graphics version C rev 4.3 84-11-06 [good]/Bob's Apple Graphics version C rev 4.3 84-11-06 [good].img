( GRAPHICS VERSION C     <10/16/84>140) EXIT                                                                            VERSION C:                                 MORE COMPACT THAN VERSION A             FASTER THAN VERSION B                ** BUT CAN ONLY ADDR X Y -- )                      DRAW CHARACTER AT [X,Y]              <GEMIT> ( CH -- )                          DRAW CHARACTER AT [GX,GY]                                           (  RLP )                                                                                                                 HPLOT WILL WRAP AROUND IF PLOTTING AT   X = 279.                                                                        ADDRESS OF ASCII TABLE IS FOUND         IN CONSTANT ">ASCTAB".                                     WITHIN CURRENT X END POINTS          HPLOT ( X Y -- )                           PLOT POINT AT [X,Y]                     (DOES "SETENDPTS")                   LINE ( X1 Y1 X2 Y2 -- )                    DRAW LINE FROM [X1,Y1] TO [X2,Y2]    CDRAW (                         0 = INVERT BITS ON SCREEN               1 = SET BITS                            2 = CLEAR BITS                          3 = INVERSE PATTERN TO SCREEN           4 = EOR PATTERN WITH SCREEN             5 = PUT PATTERN ON SCREEN       2 -- )                     SET CURRENT X END POINTS             HLINE ( Y -- )                             DRAW HORIZ LINE WITHIN CURRENT          X END POINTS                         VLINE ( Y1 Y2 -- )                         DRAW VERTICAL LINE (OR BAR)  ( GRAPHICS VERSION 3     <10/16/84>140) EXIT                                                                            NUMBER OF COLORS AVAILABLE DEPENDS      ON COLORTAB; ESSENTIALLY UNLIMITED.                                             GRAPHICS MODES: ( HIGH-LEVEL WORDS       <10/12/84>141) --> EXIT                                HCOLOR ( N -- )                            SET CURRENT COLOR                    SETMODE ( N -- )                           SET GRAPHICS MODE; SEE SCR 140       SETENDPTS ( X1 X5 LOAD ( GET 9-PT FONT )                                                CR CR ." GRAPHICS PACKAGE LOADED"       CR 2BEEP EXIT                                                          (  RLP )                                                                                                                                                                                                                                                                                                                                 LINE )    CR  210 LOAD ( HPLOT )                  CR  220 LOAD ( CHAR DRAW V.2 )          CR  230 LOAD ( LINE DRAW )            ( CR  240 LOAD ( AFILL )                  CR  260 LOAD ( GEXPECT, GEMIT, ETC. ) ( CR  270 LOAD ( )                        CR  27                                                                                                                                                                                                                                                                E ASSOCIATES, INC. "    CR CR ." SEE NOTES ON SCREENS "               ." 140 AND 141 "                  CR                                      ( 150 169 THRU ( BOB'S STUFF )          ( 170 174 THRU ( PLISTS SHOW CRUNCH )     CR  180 LOAD ( YADDR, 7/MOD, HHANDLE THE 8 BASIC         COLORS                                                                                                                                                                                                                               ( LOAD BLOCK             <11/ 1/84>142) PAGE                                    CR    ." APPLE GRAPHICS VERSION 4.2 "         ." 01/31/84 "                     CR    ." ROBERT L. PYRON "              CR    ." (C) 1984, "                          ." PRENTIC                                V.4 : PATBUF REDUCED TO 40 BYTES,       FROM 320; CHARBUF MAPPED ONTO PATBUF;   PATTERN EXPANDED LINE BY LINE,          AS NEEDED.                     (  RLP )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 LOOP ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0 I .LINE                               XY@ SWAP DROP                           35 SWAP XYTAB                           I 3 .R                            THEN                                    PAUSE ?TERMINAL                         IF LEAVE THEN                                                                                                                                                                                                                                                                       ( .S INDEX               <10/24/84>147)                                         : INDEX CR 1+ SWAP                              DO  CR EPRINT @                             IF    I 3 .R SPACE                            0 I .LINE                         ELSE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        (  RLP )                                                                                                                 EXIT                                                                                                                                                                                                            MOVE ;  : =ELLA  ' .ELLA  ' .HR:MIN 10 CMOVE ;  : =LARRY ' .LARRY ' .HR:MIN 10 CMOVE ;                                          =RLP                                                                                                                            E LDX,                                                                      ' OUT INC,                    0= IF,    ' OUT 1+ INC,                 THEN,                                             POP JMP, C;                 DECIMAL                          " ;                    : .LARRY ." LARRY" ;                                                            : =PAI   ' .PAI   ' .HR:MIN 10 CMOVE ;  : =RLP   ' .RLP   ' .HR:MIN 10 CMOVE ;  : =SALLY ' .SALLY ' .HR:MIN 10 CMOVE ;  : =FRED  ' .FRED  ' .HR:MIN 10 C( ZEMIT                  <10/22/84>151) HEX                                     CODE ZEMIT                                          XSAVE STX,                              BOT LDA,                                0FDED JSR,                              XSAV( .PAI                   < 9/30/84>149)                                         : .PAI   ."  PAI " ;                    : .RLP   ."  RLP " ;                    : .SALLY ." SALLY" ;                    : .FRED  ." FRED " ;                    : .ELLA  ." ELLA                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 F       ( CTRL-SHFT-M )            DROP 93      ( ] )                 THEN THEN ;                                                               EXIT                                                                                                                                                                                                                                                                                                                                                                            ( <MYKEY>                <10/22/84>150)                                         : <MYKEY> ( -- CH )                           <KEY>                                   DUP 30 = IF       ( CTRL-SHFT-N )            DROP 91 ELSE ( [ )                 DUP 29 = I                                                                                                                                                                                       (  RLP )                                                                 ( NORMAL INVERSE FLASH   <10/22/84>152) ( NOT TESTED ON //E )                                                             ( NORMAL EMIT )                       : NEMIT ( C -- ) 128 OR ZEMIT ;                                                   ( INVERSE EMIT                                                                                                                                                                                       (  RLP )                                                                         : ALL-GRAPHICS                                        C052 C@DROP C050 C@DROP ;                                         DECIMAL                                                                         EXIT                                                    EXIT                                                                                                                                                                                                                                                                            : 1PAGE  C054 C@DROP ;                                                          : HI-RES C057 C@DROP ;                                                          : GRAPHICS    C053 C@DROP C050 C@DROP ;                                                             IF 2BEEP ." OUT OF MEMORY" QUIT         THEN MIN 2 MAX DUP . DUP ' #BUFF !    ." BUFFERS INSTALLED" CR 1028 * LIMIT    SWAP - DUP ' FIRST ! DUP USE !          PREV ! EMPTY-BUFFERS ;                                               ( TEXT ETC.              <10/22/84>155) HEX                                                                             : C@DROP C@ DROP ;                                                              : TEXT   C051 C@DROP ;                                  ( BUFFERS                <10/22/84>153)                                         ( N ---, <INSTALLS N OR MAX AVAIL. )                                            : BUFFERS CR FLUSH LIMIT PAD               200 + - 0 1028 U/MOD SWAP               DROP DUP 2 <                                                                                                                                                                                        (  RLP )                                                                 E ( -- ) ' IEMIT CFA ' EMIT ! ; : FLASH   ( -- ) ' FEMIT CFA ' EMIT ! ;                                         EXIT                                                                   (  RLP )                                                                                                                 ( FREQ,HZ DURATION,1/100SEC ---,      ) : TONE  68500. 4 ROLL U/MOD SWAP DROP       SWAP 1278 3 PICK 3 + */ <TONE> ;                                            EXIT                                                    : FEMIT ( C -- )                           DUP 7 =                                 IF   NEMIT                              ELSE 63 AND 64 OR ZEMIT THEN ;                                               : NORMAL  ( -- ) ' NEMIT CFA ' EMIT ! ; : INVERS, 0=                             IF, N 4 + DEC,                          THEN, 0=                             UNTIL, N DEC, 0=                        IF, N 1+ DEC,                           THEN, 0=                             UNTIL, NEXT JMP, C;           )                      : IEMIT ( C -- )                           DUP 7 =                                 IF NEMIT                                ELSE 63 AND ZEMIT THEN ;                                                       ( FLASH EMIT )                ( TONE                   <10/22/84>154)                                         CODE <TONE>  2 # LDA, SETUP JSR,           N 3 + INC, N 1+ INC,                    BEGIN, N 3 + LDA, N 4 + STA,             N 2+ LDY, 49200 LDA,                      BEGIN, DEY                                                                                                                                                                                       (  RLP )                                                                 ( CLS HG 1HG HGR         <10/22/84>156)                                         : CLS  8192 8192 0 FILL ;               : HG   1PAGE HI-RES ALL-GRAPHICS ;      : 1HG  1PAGE HI-RES GRAPHICS ;          : HGR  HG CLS ;                                                                                                                 EXIT                                                                                                           (  RLP )                                                                                                                                                                                                                                                                                                                                         : <>    = NOT ;                         : <=    > NOT ;                         : >=    < NOT ;                         : PRON  1 EPRINT ! 1 PR# ;              : PROFF 0 EPRINT ! 0 PR# ;              : LAOD  LOAD ;                          DECIMAL 1+ C@                           [COMPILE] LITERAL ; IMMEDIATE                                           EXIT                                                                                                                                                    DROP SCR @ EDIT ;       : ED    C051 C@ DROP EDIT ;             : BASE. BASE @ DUP DECIMAL . BASE ! ;   : X.    BASE @ HEX SWAP U. BASE ! ;     : E-B   EMPTY-BUFFERS ;                 : ?     @ . ;                           : C?    C@ . ;                  ( MYSELF ASCII           <10/22/84>159)                                         : MYSELF ( FOR RECURSIVE CALLS )              LATEST PFA CFA , ; IMMEDIATE                                              ( COMPILE ASCII VALUE OF NEXT CHAR )    : ASCII 32 WORD ( EL ED ? BASE. .X       <10/22/84>157)                                         1024 CONSTANT 1K                        8192 CONSTANT 8K                        HEX                                     : CVARIABLE VARIABLE ;                  : EL    C051 C@                                                                                                                                                                                        (  RLP )                                                                                                                                                                                                                                                        (  RLP )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         EXIT                                                                                                                                                                                                                                                            EXIT                                                                                                                                                                                                                                    ( INVERT WITHIN          <10/22/84>158)                                         : INVERT -1 XOR ;                                                               : WITHIN ( N LOW HIGH -- 0/1 )              >R OVER >  SWAP R> >  OR NOT ;                                                                                                                                                                                                             (  RLP )                                                                 ( INTEGER TO +TO         <10/22/84>160)                                         : INTEGER 0 CONSTANT ;                                                          : TO ( N "TO" NAME -- )                      -FIND NOT ABORT" NOT FOUND"             STATE @ <   THEN THEN THEN                       REPEAT DROP                          R> DROP BL EMIT DDROP ;              EXIT                                                                   (  RLP )                                                                                                                                                                                                                                                                                                                                 HEN              ELSE DUP BL <                              IF DROP 7 EMIT                       ELSE OVER R@ < IF                          DUP EMIT                                3 PICK 3 PICK + C! 1+                ELSE DROP 7 EMIT                                                                                                                                                                                                                                                                                        13 = NOT                     WHILE                                      DUP 8 = OVER 127 = OR IF                   DROP DUP 0>                             IF 8 EMIT BL EMIT 8 EMIT                   BL 3 PICK 3 PICK + C! 1-             ELSE 7 EMIT DROP 0 T( BSPLIT BJOIN           <10/22/84>163)                                         : BSPLIT 0 256 U/MOD ;                  : BJOIN  256 * + ;                      : BSWAP  BSPLIT SWAP BJOIN ;            EXIT                                                    ( BEXPECT                <10/22/84>161) ( DOES NOT PUT 0 BYTE AT END; )         ( REJECTS CONTROL CHARACTERS )          : BEXPECT ( ADDR COUNT -- )                DDUP BL FILL ( COUNT ) >R               0  BEGIN                                      KEY DUPDIATE                                                                                                                                                                                  (  RLP )                                                                                                                                                                                                                                                        (  RLP )                                                                                * 2* ALLOT                         DOES>  ( XINDEX YINDEX -- ADDRESS )          DUP >R @     ( GET XDIM )               *            ( YOFFSET )                +            ( + XOFFSET )              2* 4 + R> +  ( ADDRESS )           ; IMME             STATE @ <                               IF   [COMPILE] LITERAL                       COMPILE +!                         ELSE +! THEN ; IMMEDIATE                                                   EXIT                                                                                                            EXIT                                                                            : 2ARRAY                                  CREATE ( XDIM YDIM "2ARRAY" NAME -- )        OVER , OVER ,                                         IF   [COMPILE] LITERAL                       COMPILE !                          ELSE ! THEN ; IMMEDIATE                                                    : +TO ( N "+TO" NAME -- )                    -FIND NOT ABORT" NOT FOUND"( TABLE 2ARRAY           <10/22/84>162)                                         ( DEFINE TABLE OF WORD-SIZE CONSTANTS ) : TABLE CREATE                                  DOES>  ( INDEX -- VALUE )                      SWAP 2* + @                ; IMMEDIATE                                                                                                                                                                                          (  RLP )                                                                 ( \ .S                   <10/22/84>164)                                         : \  >IN @ C/L / 1+ C/L * >IN ! ;           IMMEDIATE                                                                   : .S CR DEPTH                                   IF   SP@                                                                                                                                                                                                                                                                                 DUP BL < IF DROP 46 THEN EMIT        LOOP                                    PAUSE ?TERMINAL IF LEAVE THEN        8 /LOOP                                 DROP R> BASE ! ;                                                             EXIT                                                                                                                                                                                                                                                                     0 4 D.R                      58 EMIT SPACE                           8 0 DO                                     DUP I + J + C@ 3 .R                  LOOP                                    8 0 DO                                     DUP I + J + C@                                                                                                                                                                                                                                                                         ( DUMP                   <10/22/84>167) ( REWRITTEN TO FIT ON 40-COL SCREEN   )                                         : DUMP ( ADDR N -- )                       BASE @ >R HEX                           0 DO                                       CR DUP I +                                                                                                                                                                                                                                                                                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                        (  RLP )                                                                               THEN                                    PAUSE ?TERMINAL IF LEAVE THEN        LOOP ;                                                                       EXIT                                                                                                                                                                                                                                                                                                                                                    SPACE                            0 I .LINE                            ELSE                                       0 I .LINE                               XY@ >R DROP                             35 R> XYTAB                             I 3 .R                  2- S0 2-                            DO I @ 0 D. -2 +LOOP               ELSE ." EMPTY STACK"                    THEN CR ;                                                               EXIT                                                                    ( INDEX                  <10/22/84>166)                                         : INDEX ( S E -- )                         CR 1+ SWAP                              DO CR EPRINT @                             IF 6 SPACES                                I 3 .R                                                                                                                                                                                        (  RLP )                                                                 ( 4LST FOR OKIDATAS      <10/22/84>168) ( WORKS WITH OKIDATA PRINTERS ONLY )      VARIABLE BLCNT                        : PRFF 12 EMIT 0 BLCNT ! ;              : TOF 1 PR# PRFF 0 PR# ;                : TAB48  27 EMIT  ." %B0600" ;          : TABX   27 EMIT@ 0= NOT                           IF BL#S @ -1 2LIST THEN                 BLCNT @ IF PRFF THEN 0 PR# ;         EXIT                                                                   (  RLP )                                                                           CR CR ." NEXT FREE BLOCK -- "           DBLK @ . CR CR ;                                                              EXIT                                                                                                                                             IF    DUP BL#S !                        ELSE  BL#S @ OVER 2LIST                       0 BL#S !                          THEN                                 THEN DUP 3 PICK <                    WHILE 1+ REPEAT                         BL#S  NOT                       IF I DBLK @ = NOT                        IF I DBLK @ MOVE-BLK                    THEN                                    1 DBLK +!                              THEN                                   LOOP                          LEAVE THEN                 LOOP SWAP DROP ;                                                             : 4LST ( S E -- ; FROM S TO E )            ?2NUM 1 PR# SWAP 0 BL#S ! 0 BLCNT !     BEGIN DUP 0BLK? NOT                        IF BL#S @ 0=              ( CRUNCH                 <10/22/84>171)                                         VARIABLE DBLK                                                                   : CRUNCH ( START END -- * )               1+ SWAP DUP DBLK !                      DO I . I 0BLK?( 4LST FOR OKIDATAS      <10/22/84>169) VARIABLE BL#S                                                                   : 0BLK? ( BLK# -- T/F ; T IF ALL 32'S )    BLOCK 1 1024 0                          DO OVER I + C@ 32 >                        IF DROP 0                                                                                                                                                                                        (  RLP )                                                                  @ 1 =                             IF PRFF ELSE 1 BLCNT ! THEN ;                                                EXIT                                                                   (  RLP )                                                                           1024 32 FILL  ;                                                               EXIT                                                                                                                                                                               CR 28 EMIT TABX                         24 0 DO CR TABX                            I 3 PICK .LINE                          DUP 0< NOT                              IF TAB48 I OVER .LINE THEN           LOOP DDROP CR CR                        BLCNT0 SWAP LEAVE THEN )     ( LOOP DROP ; )                                                                 : MOVE-BLK ( S D -- MOVE S TO D )                  ( ERASING S )                  BUFFER UPDATE OVER BLOCK SWAP           1024 CMOVE BLOCK UPDATE         ." %B0100" ;          : 2LIST ( S1 S2 - * ; PRINT S1 S2 )             ( IF S2 NEG DON'T PRINT )          28 EMIT 31 EMIT CR TABX                 ." SCR NO. " OVER .  TAB48              DUP 0< NOT                              IF ." SCR NO. " DUP . THEN   ( CRUNCH PRIMS           <10/22/84>170)                                         ( ALREADY LOADED BY 4LST )              ( 0BLK? ( BLK# -- T/F ; T IF ALL 32'S ) ( 1 SWAP BLOCK 1024 0 )                 ( DO DUP I + C@ 32 >  )                 (  IF SWAP DROP                                                                                                                                                                                        (  RLP )                                                                 ( PLIST PLISTS           <10/22/84>172)   VARIABLE PLINE                        : ?INDENT  EPRINT @ IF 8 SPACES THEN ;  : PLIST ( N -- )                            DUP BLOCK SWAP                          CR ?INDENT ." SCR# " . 1 PLINE +!     1 24 0 DO                                                                                                                                                                                            (  RLP )                                                                                                                                                                                                                                                                                                                                                                                 EXIT                                                                                                                                                                                                                                                                                                                                                                                                                                                                            SWAP                       DO I 0 22 XYTAB                            DUP BLK->CRT SCR !                      SHOWDELAY @ 33 - 0 MAX                  ?DUP IF 0 DO 73 0 DO LOOP LOOP          ?TERMINAL IF LEAVE THEN              LOOP 0 22 XYTAB ;                                                                                                                                                                                                                                                                            ( SHOW                   <10/22/84>173)                                         ( NO. = DELAY, 1/100 SECONDS IF > 33 )    VARIABLE SHOWDELAY  0 SHOWDELAY !                                             ( FIRSTSCRN LASTSCRN ---, )             : SHOW  PAGE 1+                                                                                                                                                                                                                                                                  IF 12 EMIT 0 PLINE ! THEN          LOOP PLINE @ IF 12 EMIT THEN            0 EPRINT ! 0 PR# 0 PLINE ! ;        EXIT                                                                   (  RLP )                                                                                                                                                                                                                                                                                                                                             LOOP DDROP CR CR 2 PLINE +! ;       : PLISTS ( N1 N2 -- )                       0 PLINE ! 1 EPRINT ! 1 PR#              1+ SWAP                                 DO   I PLIST                                 PLINE @ 30 >                                                                                                                                                                                                                                                                                                                         OVER 40  -TRAILING                      ROT OVER OR                             IF   CR ?INDENT 1 PLINE +!                   DUP >R TYPE                        ELSE >R DROP                            THEN 40 + R>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ( ZERO PAGE USAGE        < 8/31/84>180) HEX                                       D4 CONSTANT GBASE      ( >Y ADDRESS )   D6 CONSTANT GPATTERN   ( >PATTERN   )   D8 CONSTANT GFIG       ( >FIG DATA  )   DA CONSTANT GMODE      ( FILL MODE  )   DC CONSTANT 7Q                                EXIT                                    NOTE: ONLY VALID FOR 0 <= LINE# <= 191  BOMBS FORTH WHEN -1 OR 255                                             (  RLP )                                                                                1F C, 3F C, 7F C, FF C,                                                  DECIMAL                                 -->                                                                                                                             L,                   GBASE 1+ ROL, .A ASL,                   GBASE ROR,                              GBASE 1+ LDA, # 1F AND,                 # 20 ORA, GBASE 1+ STA,       PLA, RTS, C;                         DECIMAL                                 -->                             CREATE LMASKS                                  7F C, 7E C, 7C C, 78 C,                 70 C, 60 C, 40 C, 00 C,                                                  CREATE RMASKS                                  01 C, 03 C, 07 C, 0F C,                             PHA, TXA, # C0  AND, GBASE STA,                   .A LSR, .A LSR,                         GBASE ORA, GBASE STA,              TXA, GBASE 1+ STA, .A ASL,                   .A ASL, .A ASL,                         GBASE 1+ ROL, .A AS( BIT MASK TABLES        < 8/31/84>183) HEX                                                                             CREATE BITTBL                                   1 C,  2 C,  4 C,  8 C,                 10 C, 20 C, 40 C, 80 C,                          ( $YADDR SUBROUTINE      < 8/31/84>181) ( ENTRY: LINE# IN X REG   )             ( EXIT:  ADDRESS IN GBASE )             ( ALL REGISTERS PRESERVED )                                                     HEX                                     CODE $YADDR                                                                                                                                                                                            (  RLP )                                                                 CRATCH AREA.                    NOTE THAT D0 IS JUST ABOVE              THE BOTTOM OF THE FORTH DATA STACK.                                                                                                                                                              INPUT Y                                 Y1 = INT(Y /8) : YR = Y  - Y1*8         Y2 = INT(Y1/8) : YS = Y1 - Y2*8         L  = 8192 + 40*Y2 + 128*YS + 1024*YR                                                                                                                                           LOCATIONS D0 THROUGH EF ARE NOT USED    BY MVP-PADS, TO ALLOW USE OF THE        APPLESOFT RAM FLOATING-POINT AND        GRAPHICS ROUTINES.                      THESE PARTICULAR LOCATIONS ARE PART OF  THE FP SA, BOT    STA,               GBASE 1+ LDA, BOT 1+ STA,               NEXT JMP, C;                       -->                                     EXIT                                                                            ALGORITHM IN BASIC:             UO       ( X OFFSET   )   DE CONSTANT 7REM       ( DOT NUM.   )                                         DECIMAL                                                                         -->                                     EXIT                            ( YADDR CODE VERSION     < 8/31/84>182)                                         CODE YADDR ( Y -- YADDR )                    XSAVE STX, BOT LDA, TAX,                ' $YADDR JSR,                           XSAVE LDX,                              GBASE    LD                                                                                                                                                                                       (  RLP )                                                                 ( $7/MOD SUBROUTINE      < 8/31/84>184) ( ENTRY: "A" = LSB, "Y" = MSB  )        ( EXIT:  RESULTS IN 7QUO, 7REM )        ( ALL REGISTERS PRESERVED      )                                                CODE $7/MOD   7REM STA,                               PH                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                                                                                                                                                 -->                                     EXIT                                                                            RESULTS ARE ONLY VALID FOR              0 <= SX <= 286                                                          CREATE HI-CLRTAB                           00 C, 2A C, 55 C, 7F C,                 80 C, AA C, D5 C, FF C,                                                      DECIMAL                                 -->                             + STA, SEC 1+ STA,                 7QUO LDA, BOT STA,                      7REM LDA, SEC STA,                      NEXT JMP, C;                                                         : 7/   7/MOD SWAP DROP ;                : 7MOD 7/MOD DROP ;             ( COLORTAB               <11/ 6/84>187) HEX                                                                             CREATE LO-CLRTAB                           00 C, 55 C, 2A C, 7F C,                 80 C, D5 C, AA C, FF C,                              ( 7/MOD                  < 8/31/84>185)                                         CODE 7/MOD ( SX -- 7REM 7QUO )                     BOT LDA, BOT 1+ LDY,                    ' $7/MOD JSR,                           DEX, DEX, # 0 LDA,                      BOT 1                                                                                                                                                                                       (  RLP )                                                                       PLA, TAY, PLA, TAX, PLA,                RTS,                      END-CODE                                -->                                                                    (  RLP )                                                                                                                                                                                                                                                                                                                                 C,      CS IF,        TAX, TYA, CLC,                          # 18 ADC, TAY,            THEN,         TXA,                      BEGIN,        INY, SEC, # 7 SBC,        CS NOT UNTIL, DEY, CLC, # 7 ADC,                      7REM STA, 7QUO STY,               BYTES FORM AN 8-BY-8    BIT ARRAY THAT IS EXPANDED INTO         EIGHT FULL SCAN LINES.                  THE NINTH BYTE INDICATES WHETHER THE    COLOR BIT IS TURNED ON FOR EACH SCAN    LINE.                                                                   A, TXA, PHA, TYA, PHA,                7REM LDA,                               # 0 CPY,                  0= IF,        7REM LDX,                 ELSE,         # 36 LDY, 7REM LDA, CLC,                # 4 ADC, # 31 AND, TAX,   THEN,         TXA, SEC, # 126 SB( COLORTAB NOTES         < 8/31/84>186) -->                                     EXIT                                                                            EACH ENTRY IN COLORTAB IS A NINE-BYTE   BLOCK.                                  THE FIRST EIGHT                                                                                                                                                                                        (  RLP )                                                                 (                        <11/ 6/84>188) -->                                                                                                                                                                                                                                                                                                                                                                                                            (  RLP )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 (                        <11/ 6/84>191) -->                                                                                                                                                                                                                     (                        <11/ 6/84>189) -->                                                                                                                                                                                                                                                                                                                                                                                                            (  RLP )                                                                                                                                                                                                                                                        (  RLP )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 (                        <11/ 6/84>190) -->                                                                                                                                                                                                                                                                                                                                                                                                            (  RLP )                                                                 ( $SETPATTERN VARS       <10/ 9/84>192)                                         CREATE   PATBUF      40 ALLOT                                                   VARIABLE 'PATBUF     PATBUF 'PATBUF !                                           VARIABLE COLOR#                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         : SETMODE  ( N -- ) GMODE ! ;           -->                                                                                                                                                                                                  LDA,                        GPATTERN    STA,                        'PATBUF  1+ LDA,                        GPATTERN 1+ STA,                        PLA, RTS,                      END-CODE                                -->                             ( SETPAT SETCOLOR        < 9/ 5/84>195)                                                                                 : HCOLOR ( N -- )                                COLOR# !                                ' $SETCLR CALL ;                               ( $>PATBUF               <10/ 9/84>193)                                         ( ALL REGISTERS PRESERVED )                                                     CODE $>PATBUF ( "X" = Y COORD )                  PHA,                                    'PATBUF                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                                                                                                           0< UNTIL,                                            PLA, TAY, PLA, TAX, PLA,                RTS,                     END-CODE                                -->                                                                                                                                                                                                                                                                                                                                                     OLOR# LDX,                                                        BEGIN,       LO-CLRTAB ,X LDA,                       PATBUF ,Y STA,                          HI-CLRTAB ,X LDA,                       PATBUF 1+ ,Y STA,                       DEY, DEY,                                                                                                                -->                                     EXIT                                                                                                            ( $SETCLR                <11/ 6/84>194)                                         CODE $SETCLR                                           PHA, TYA, PHA, TXA, PHA,                ' $>PATBUF JSR,                         # 38 LDY,                               C                                                                                                                                                                                                                                                                ( MASKS FOR HLINE        <10/ 9/84>196)                                         VARIABLE LEFT.D7     0 LEFT.D7   !      VARIABLE LEFT.MSK    0 LEFT.MSK  !      VARIABLE RIGHT.D7    0 RIGHT.D7  !      VARIABLE RIGHT.MSK   0 RIGHT.MSK !      -->                                                                                                                                                                                                    (  RLP )                                                                                        DEY,                                    LEFT.D7 CPY,               0= UNTIL,    LEFT.MSK LDA,                           ' $TURNOFFB JMP, C;      -->                                                                                                            LEFT.D7 CPY,               0= UNTIL,    LEFT.MSK LDA,                           ' $INVERTB JMP,          END-CODE                                -->                                                                                     TS, C;                                                          CODE $TURNOFF                                          # 255 EOR,                              GBASE )Y AND,              BEGIN,       GBASE )Y STA,                           # 0 LDA,                                                                         CODE $INVERT                              BEGIN,       GBASE )Y EOR,                           GBASE )Y STA,                           # 127 LDA,                              DEY,             ( $TURNOFF SUBROUTINE    <10/14/84>199)                                         CODE $TURNOFFB                                         # 255 EOR,                              GBASE )Y AND,                           GBASE )Y STA,                           R( $INVERT SUBROUTINE     < 9/ 5/84>197)                                         CODE $INVERTB                                          GBASE )Y EOR,                           GBASE )Y STA,                           RTS,                     END-CODE                                                                                                                                                                                               (  RLP )                                                                                                                                                                                                                                                        (  PAI )                                                                           0= UNTIL,    LEFT.MSK LDA,                           ' $TURNONB JMP, C;       -->                                                                                                                                                                             1 = SET BITS                            2 = CLEAR BITS                          3 = SET ACCORDING TO BIT PATTERN              IN PATBUF ( SET BY HCOLOR )                                                                                                                       CODE $TURNON                                           GBASE )Y ORA,              BEGIN,       GBASE )Y STA,                           # 127 LDA,                              DEY,                                    LEFT.D7  CPY,                                                                    EXIT                                                                            GRAPHICS MODES*                                                                 0 = INVERT WHATEVER IS ON SCREEN( $TURNON SUBROUTINE     <10/14/84>198)                                         CODE $TURNONB                                          GBASE )Y ORA,                           GBASE )Y STA,                           RTS, C;                                                                                                                                                                                                                         (  RLP )                                                                 ( $INVPAT SUBROUTINE     <10/14/84>200)                                         CODE $INVPATB                                          # 128 ORA, N STA,                       # 255 EOR, GBASE )Y AND,                N 1+ STA,                               G                                                                                                                                                                                       (  RLP )                                                                           BEGIN,        DEY,                                    LEFT.D7 CPY,              0= NOT WHILE, GPATTERN )Y LDA,                        GBASE )Y STA,             REPEAT,       LEFT.MSK LDA,                           ' $FILLPATB JMP, C;     -->                             DEY,                                    LEFT.D7 CPY,              0= NOT WHILE, GPATTERN )Y LDA,          REPEAT,       LEFT.MSK LDA,                           ' $ANDPATB JMP,         END-CODE                                -->     N AND,                                  GBASE )Y EOR,                           GBASE )Y STA,                           RTS, C;                                                         CODE $FILLPAT                                           ' $FILLPATB JSR,RTS,                    END-CODE                                                                        CODE $ANDPAT                                            GPATTERN )Y AND,          BEGIN,        GBASE )Y AND,                           GBASE )Y STA,   ( FILLPAT                <10/14/84>203)                                         CODE $FILLPATB  # 128 ORA,                              N STA,                                  GBASE )Y LDA,                           GPATTERN )Y EOR,                        ( $ANDPAT SUBROUTINE     <10/14/84>201) --> EXIT                                CODE $ANDPATB                                           GPATTERN )Y AND,                        GBASE )Y AND,                           GBASE )Y STA,                                   ' $EORPATB JMP,         END-CODE                                -->                                                                                                            (  RLP )                                                                        LEFT.MSK LDA,                           ' $INVPATB JMP, C;       -->                                                                                                            (  RLP )                                                                           BEGIN,        GBASE )Y EOR,                           GBASE )Y STA,                           DEY,                                    LEFT.D7 CPY,              0= NOT WHILE, GPATTERN )Y LDA,          REPEAT,       LEFT.MSK LDA,                                          ' $INVPATB JSR,           BEGIN,        DEY,                                    LEFT.D7 CPY,              0= NOT WHILE, GPATTERN )Y LDA,                        # 127 EOR,                              GBASE )Y STA,             REPEAT,GBASE )Y STA,                           RTS,                    END-CODE                                                                        CODE $EORPAT                                            # 128 ORA,                              GPATTERN )Y AND,PATTERN )Y LDA,                        # 127 EOR,                              N AND, N 1+ ORA,                        GBASE )Y STA,                           RTS, C;                                                          CODE $INVPAT                    ( $EORPAT SUBROUTINE     <10/12/84>202)                                         CODE $EORPATB                                           # 128 ORA,                              GPATTERN )Y AND,                        GBASE )Y EOR,                                                                                                                                                                                                                  (  RLP )                                                                 ( $HLINED                < 9/30/84>204)                                         CODE $HLINED                                         PHA,                                    GMODE LDA, N STA, N INC,                PLA,                                    N D     ' $FILLPAT  JMP,           END-CODE                                -->                                     ( ENTRY POINT WHEN LEFT AND RIGHT ARE     IN DIFFERENT BYTES )         (  RLP )                                                                                  XSAVE STX,                              BOT LDA, TAX,                           ' $HLINE JSR,                           XSAVE LDX,                              POP JMP, C;                                                            -->             (   0= IF,   ' $ANDPAT   JMP,           (   THEN,    N DEC,                     )   0= IF,   ' $INVPAT   JMP,               THEN,    N DEC,                         0= IF,   ' $EORPAT   JMP,               THEN,                                       PX, CS IF, RTS, THEN,                                                    ' $>PATBUF JSR,                         ' $YADDR JSR,                           ' $HLINEB JMP, C;                                                      CODE HLINE ( Y -- )             EC,                         0= IF,   ' $INVERT   JMP,               THEN,    N DEC,                         0= IF,   ' $TURNON   JMP,               THEN,    N DEC,                         0= IF,   ' $TURNOFF  JMP,               THEN,    N DEC,             ( $HLINE  HLINE          <10/14/84>207) ( DRAW HORIZONTAL LINE WITHIN )         ( CURRENT END POINTS          )         ( "X" = YLINE #               )                                                 CODE $HLINE                                      # 192 C( $HLINEC                < 9/30/84>205)                                         CODE $HLINEC                                         PHA,                                    GMODE LDA, N STA, N INC,                PLA,                                    N D                                                                                                                                                                                       (  RLP )                                                                      ' $FILLPATB JMP,           END-CODE                                -->                                     ( ENTRY POINT WHEN LEFT AND RIGHT ARE     IN THE SAME BYTE )                                                                                            -->                                                                             ( ENTRY POINT WHEN YADDRESS )           ( AND PATTERN ADDRESS HAVE  )           ( ALREADY BEEN COMPUTED     )                                                                   (   0= IF,   ' $ANDPATB  JMP,           (   THEN,    N DEC,                     )   0= IF,   ' $INVPATB  JMP,               THEN,    N DEC,                         0= IF,   ' $EORPATB  JMP,               THEN,                                       7  LDY,                          LEFT.D7   CPY,                   0= IF, LEFT.MSK  AND,                          ' $HLINED JMP,                   ELSE,  ' $HLINEC JMP,                   THEN,  C;                                                             EC,                         0= IF,   ' $INVERTB  JMP,               THEN,    N DEC,                         0= IF,   ' $TURNONB  JMP,               THEN,    N DEC,                         0= IF,   ' $TURNOFFB JMP,               THEN,    N DEC,             ( $HLINEB                <10/ 9/84>206)                                         CODE $HLINEB                                     # 192 CPX, CS IF, RTS, THEN,                                                    RIGHT.MSK LDA,                          RIGHT.D                                                                                                                                                                                       (  RLP )                                                                 ( SETENDPTS              <10/12/84>208)                                         : SETENDPTS ( X1 X2 -- )                      DDUP > IF SWAP THEN                                                             0 MAX 279 MIN                           7/MOD RIGH279 SETENDPTS 0 191 VLINE ;     EXIT                                                                                                                                                   (  RLP )                                                                                     PLA, TAY, PLA, TAX, PLA,                RTS, C;                     -->                                                                             EXIT                                    ( WILL WRAP AROUND )                    ( IF PLO              SWAP 0 MAX 191 MIN                      SWAP 0 MAX 191 MIN                      VY2 ! VY1 !                             ' $VLINE CALL ;                                                           : FS ( N -- ) HCOLOR                          0 T.D7 INC,                           # 0 LDY,                     ELSE,      INY,                         THEN,                                              RMASKS ,Y LDA,                          RIGHT.MSK STA,                          ' $HLINE JSR,       Y1 LDX,                  BEGIN,        ' $HLINE JSR,                           VY2 CPX,                  CS NOT WHILE, INX,                      REPEAT,       PLA, TAX, RTS, C;                                                : VLINE ( Y1 Y2 -- )            ( $HPLOT CONTINUED       <10/12/84>211)                                                     7REM LDY,                               LMASKS ,Y LDA,                          LEFT.MSK  STA,                          # 6 CPY,                     CS IF,     RIGH( VLINE  FS              <10/14/84>209)                                         VARIABLE VY1                            VARIABLE VY2                                                                    CODE $VLINE    TXA, PHA,                               V                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                        (  RLP )                                                                                     7QUO LDA,                               LEFT.D7 STA,                            RIGHT.D7 STA,                                                       --> ( MORE ... )                                                                                0 279 SETENDPTS                                                                 -->                                                                                                                                                                                               THEN,                                             N STA,                                  PHA, TXA, PHA, TYA, PHA,                N LDA,                                  ' $7/MOD JSR,                           ' $YADDR JSR,       T.D7 !                        RMASKS + C@ RIGHT.MSK !                                                         0 MAX 279 MIN                           7/MOD LEFT.D7 !                         LMASKS + C@ LEFT.MSK ! ;                                          ( $HPLOT                 <10/12/84>210) ( ENTRY: "X" = Y COORD     )            ( "A" = X COORD LSB "Y" = X COORD MSB )                                         CODE $HPLOT                                         # 192 CPX,                    CS IF,    RTS,TTING AT X = 279 )                                                                                                                                                                     (  RLP )                                                                 ( HPLOT                  <10/14/84>212)                                         CODE $PULLXY                                     SEC    LDA, PHA,    ( XLO )             SEC 1+ LDA, TAY,    ( XHI )             BOT    LDA, TAX,    ( YLO )                                                                                                                                                                                                                                                                                                           PLA, TAX,                               ' $YADDR JSR,                           ' $HLINEB JSR,                          INX,                      REPEAT,       PLA, TAX,                               ' $CLRLIN JSR,            BEGIN,                                                                                                                                                                                                                                                                 LC, V# ADC, TAX,                       VY2 CPX,                  CS NOT WHILE, ' $YADDR JSR,                           GBASE       LDA,                        GPATTERN    STA,                        GBASE    1+ LDA,                        GPATTERN 1+ STA,                                                                                                                                                                                                                                                                 ( VSCROLL                <10/16/84>215) VARIABLE V#                                                                     CODE $VSCROLL  TXA, PHA, TYA, PHA,                     VY1 LDX,                  BEGIN,        TXA, PHA,                               C                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                                                                                                                  POPTWO    JMP, C;              EXIT                                                                                                                                                                                                                                                                                                                                                                                                                                                                            PLA, RTS, C;                                                    CODE HPLOT ( X Y -- )                            XSAVE     STX,                          ' $PULLXY JSR,                          ' $HPLOT  JSR,                          XSAVE     LDX,                                                                                                                                                                                                                                                                                ' $MVCH JSR, INX,                       VY2 CMP,                  CS UNTIL,     PLA, TAY, PLA, TAX,                     RTS, C;                  -->                                                                                                     ( VSCROLL                <10/16/84>216)                                         : VSCROLL ( Y1 Y2 DELY -- )                   V# !                                    DDUP > IF SWAP THEN                     VY2 ! VY1 !                             ' $VSCROLLOP                                 R> DROP R> SETMODE ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          I J + YADDR GPATTERN !                  I HLINEB                             LOOP                                 2 SETMODE                                  R> 0 DO                                    I J + HLINE                          LO                                                                                                                                                                                                                                                                 POP JMP, C;                                                    : VSCROLL ( Y1 Y2 DY -- )                  GMODE C@ >R                             5 SETMODE                                  SWAP OVER - >R >R                       I' 1+ SWAP DO                                                                                                                                                                                                                                                                             ( VSCROLL                <10/16/84>217)                                         CODE HLINEB                                   XSAVE STX, BOT LDA, TAX,                ' $YADDR JSR,                           ' $HLINEB JSR,                          XSAVE LDX,                                                                                                                                                                                                                                                                                                                                                                                                                                                       (  RLP )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  CALL ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ( V.2 CHARACTER DRAW     <10/15/84>220)                                         : CTASK ;                               --> EXIT                                                                        V.2 CHARACTER DRAW                               CHARACT                                                                        CDELX AND CDELY ARE USED BY <GEMIT>                                                                                                                                                     LC,                       CBYTES ADC,                             C.RGT.D7 CMP,           CS IF,          C.RGT.D7 LDY,           ELSE,           TAY,                    THEN,                                 -->                                             RBUF !                                           2 CONSTANT CDELX   ( SPACE BETWEEN  )   2 CONSTANT CDELY   ( LETTERS        )                                          VARIABLE C.RGT.D7                       VARIABLE C.RGT.MSK                      -->       # 39 LDY,               BEGIN,          GBASE )Y LDA,                           # 128 AND,                              CHARBUF ,Y STA,                         C.RGT.D7 CPY,           0= NOT WHILE,   DEY,                    REPEAT,         LEFT.D7 LDA, C( WIDTH IN BYTES     )  VARIABLE CHGT   ( HEIGHT IN LINES    )  VARIABLE CPIX   ( PIXEL OFFSET (DRAW )                                          PATBUF CONSTANT CHARBUF                                                         VARIABLE 'CHARBUF   CHARBUF 'CHA( $CHLIN                 <10/22/84>223)                                         CODE $CHLIN                                               TYA, PHA,                               ' $YADDR JSR,                           GMODE LDA, # 3 CMP,    CS IF,         ( CDRAW                  <10/22/84>221)                                         VARIABLE CHADDR ( ADDR OF CHAR DATA  )  VARIABLE CHX    ( X DRAW POS.        )  VARIABLE CHY    ( Y DRAW POS.        )  VARIABLE CBITS  ( CHAR WIDTH IN BITS )  VARIABLE CBYTES        CHARBUF ,Y STA,                         PLA, TAY, PLA, TAX,                     RTS, C;                  -->                                                                                                                                                                                                                                                                                                                                    (  RLP )                                                                                        CHARBUF ,Y STA,                         PLA, .A ASL, PHP,                       C.RGT.D7 CPY,              0= UNTIL,    PLP,                      REPEAT,      C.RGT.MSK LDA, # 128 ORA,                CHARBUF ,Y AND,                           N BYTES CHARACTER DATA; EACH SCAN               LINE IS LEFT-JUSTIFIED                  ON A BYTE BOUNDARY                                                     USAGE:   <ADDR> <XPOS> <YPOS> CDRAW                                                     EY, CLC, PHP,             BEGIN,       INY,                                    CHARBUF ,Y LDA,                         PLP, .A ROL, PHA,                       # 127 AND, N STA,                       GBASE )Y LDA,                           # 128 AND, N ORA,ER IS SURROUNDED                 ON ALL SIDES BY 1-BIT BOUNDARY                                         CHARACTER FORMAT:                                                                1 BYTE  WIDTH IN BITS                   1 BYTE  HEIGHT IN SCAN LINES   ( $CSHIFT                <10/22/84>222)                                         CODE $CSHIFT   TXA, PHA, TYA, PHA,                     CPIX LDX, INX,            BEGIN,        DEX,                      0< NOT WHILE, LEFT.D7 LDY,                            D                                                                                                                                                                                                                                                                ( $CHLIN CONT'D          <10/22/84>224)                                           BEGIN,          GFIG )Y LDA,                            CHARBUF ,Y STA,                         LEFT.D7 CPY,            0= NOT WHILE,   DEY,                    REPEAT,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              PLA, TAY,                               RTS, C;                  -->                                                                                                                                                                     G @ LEFT.D7 @ - GFIG !              CHARBUF GPATTERN ! ;                                                -->                                                                                                                                                     BASE )Y LDA,                           # 128 AND,                              CHARBUF ,Y STA,                         LEFT.D7 CPY,              0= NOT WHILE, DEY,                      REPEAT,                                               ' $HLINEB JSR,   ( CD-INIT2               <10/22/84>227)                                         VARIABLE &GFIG                                                                  : CD-INIT2 ( -- )                                   CBITS @ 6 + 7/ CBYTES !                 &GFI( $CLRLIN                <10/22/84>225)                                         CODE $CLRLIN                                           TYA, PHA,                               ' $YADDR JSR,                           RIGHT.D7 LDY,             BEGIN,        G          RTS, C;               -->                                                                                                                                                    (  RLP )                                                                                                                                                                                                                                                                                                                                                           INX,                    REPEAT,                                                 ' CDELY LDA,            0< NOT IF,      # 2 CMP,                  CS IF,        ' $CLRLIN JSR,          THEN, THEN,     PLA, TAY, PLA, TAX,                      THEN,                                 THEN,                                                    ' $HLINEB JSR,                          PLA, TAY, RTS, C;     -->                                                                                       ' $CLRLIN JSR,                          INX,                    THEN, THEN,                                             CHGT LDY, INY,          BEGIN,          DEY,                    0= NOT WHILE,                                           ' $CHLIN JSR,                                           ' $CSHIFT JSR,                                                                  CBYTES LDA, CLC,                        GFIG ADC,                               GFIG STA,                CS IF,         GFIG 1+ INC,  ( $CDRAW                 <10/22/84>226)                                         CODE $CDRAW       TXA, PHA, TYA, PHA,                     ' CDELY LDA,            0< NOT IF,                                0= NOT IF,    CHY LDX,                                                                                                                                                                                                                                                                                              ( CD-INIT                <10/22/84>228)                                         : CD-INIT ( ADDR X Y -- )                 ( Y )     0 MAX 191 MIN CHY !           ( X )     0 MAX 279 MIN CHX !           ( ADDR )  DUP    C@ CBITS !             ( ADDR )  DUP                                                                                                                                                                                        (  RLP )                                                                                                                 VARIABLE DCNT                                                                   -->                                                                                                                                                                                                                                                                                                                                                                                               VARIABLE DELDX        VARIABLE DELSY    VARIABLE DELDY        VARIABLE DELSE    VARIABLE DELDE                                                VARIABLE DELS                           VARIABLE DELP                           VARIABLE LERR                                                                                   ( HAS BUG )                                                                     : REDRAW ( -- )                                  CD-INIT2                                ' $CDRAW CALL ;        ( LINE -- HIGH LEVEL     <10/12/84>231)                                         VARIABLE LX1      VARIABLE LY1          VARIABLE LX2      VARIABLE LY2          VARIABLE LXTEM    VARIABLE LYTEM                                                VARIABLE DELSX  ( CDRAW                  <10/22/84>229)                                         : CDRAW ( ADDR X Y -- )                          CD-INIT                                 ' $CDRAW CALL ;                                                        EXIT                                            : DOT ( X Y -- )                              DOTY ! DOTX ! ' $DOT CALL ;       -->                                                                    (  RLP )                                                                        RMASKS + C@ RIGHT.MSK !                                                      CD-INIT2 ;                  -->                                                                    (  RLP )                                                                                                                 ' $1PLOT DOTSUBR !                                                                                                      CODE $DOT  DOTSUBR ) JMP, C;                                                                                CHX @ CBITS @ + 279 MIN                 DUP 7/MOD                                  C.RGT.D7 !                              RMASKS + C@ C.RGT.MSK !              CDELX + 1- 279 MIN 7/MOD                   RIGHT.D7 !                                                        TXA, PHA,                               DOTX     LDA, ( X LSB )                 DOTX  1+ LDY, ( X MSB )                 DOTY     LDX, ( Y LSB )                 ' $HPLOT JSR,                           PLA, TAX, RTS, C;      1+ C@ CHGT !              ( ADDR )  2+ &GFIG !                                                                      CHX @ 7/MOD  LEFT.D7 !                     DUP CPIX !                              LMASKS + C@ LEFT.MSK !                                   ( $DOT -- REVECTORABLE   <10/16/84>230)                                         VARIABLE DOTX                           VARIABLE DOTY                           VARIABLE DOTSUBR                                                                CODE $1PLOT                                                                                                                                                                                            (  RLP )                                                                 ( $BRES                  <10/18/84>232) -->                                     CODE $STRAIGHT                                      DELSE    LDA, CLC,                      LERR     ADC, LERR     STA,             DELSE 1+ LDA,                           LERR                                -->                                                                                                                                                    (  RLP )                                                                          0< UNTIL,  RTS,                        END-CODE                                                                                                                : <BRES>  ' $BRES CALL ;                                                        -->                         DELDY    LDA, CLC,                      DOTY     ADC, DOTY     STA,             DELDY 1+ LDA,                           DOTY  1+ ADC, DOTY  1+ STA,                                                     RTS,                        END-CODETRAIGHT JSR,                ELSE,   ' $DIAGONAL JSR,                THEN,                                           DCNT     LDA,                   0= IF,  DCNT 1+  DEC,                   THEN,   DCNT     DEC,                           DCNT 1+  LDA,        1+  ADC, LERR 1+  STA,                                                     DELDX    LDA, CLC,                      DOTX     ADC, DOTX     STA,             DELDX 1+ LDA,                           DOTX  1+ ADC, DOTX  1+ STA,                                 ( $BRES CNT'D   <BRES>   <10/18/84>235) -->                                      BEGIN,                                             ' $DOT   JSR,                                                                   LERR 1+  LDA,                   0< IF,  ' $S( $BRES CONTINUED        <10/18/84>233) -->                                     CODE $DIAGONAL                                      DELDE    LDA, CLC,                      LERR     ADC, LERR     STA,             DELDE 1+ LDA,                           LERR                                                                                                                                                                                       (  RLP )                                                                                                 -->                                                                                                                                                    (  RLP )                                                                                     DCNT    INC,                 0= IF,     DCNT 1+ INC,                 THEN,                                                                          --> ( MORE ... )                                                                                            DELSY    LDA, CLC,                      DOTY     ADC, DOTY     STA,             DELSY 1+ LDA,                           DOTY  1+ ADC, DOTY  1+ STA,                                                     RTS,                        END-CODE1+  LDA, DOTX 1+ STA,               LY1     LDA, DOTY    STA,               LY1 1+  LDA, DOTY 1+ STA,                                                       DELS    LDA, DCNT    STA,               DELS 1+ LDA, DCNT 1+ STA,                                    1+  ADC, LERR 1+  STA,                                                     DELSX    LDA, CLC,                      DOTX     ADC, DOTX     STA,             DELSX 1+ LDA,                           DOTX  1+ ADC, DOTX  1+ STA,                                 ( $BRES CONTINUED        <10/18/84>234) -->                                     ( REGISTERS *NOT* PRESERVED )                                                   CODE $BRES                                          LX1     LDA, DOTX    STA,               LX1                                                                                                                                                                                        (  RLP )                                                                 ( BRESENHAM'S ALGORITHM  <10/18/84>236)                                         : BRES ( -- )                               LX1 @ DOTX !                            LY1 @ DOTY !                            DELS @ 1+ 0 DO                              DOTX @ DLS @ -      DELDE !                   BRES ;                            -->                                           <BRES> ;                                                         (  RLP )                                                                                                                                                                                                                                                                                                                                  DELP !             0 DELSX ! DELDY @ DELSY !         ELSE  0 DELSY ! DELDX @ DELSX !         THEN                                                                            DELP @ 2* DUP DELSE !                   DELS @ -  DUP LERR  !                   DE25717 U* DROP                    4311 + SEED ! ;                                                        : RANPT 280 RANDOM 192 RANDOM ;                                                                                                                                                       LX2 @ LX1 @ -                           DUP 0< IF ABS -1 ELSE 1 THEN            DELDX ! DELS !                                                                  DELS @ DELP @ <                         IF    DELS @ DELP @ DELS !( RANDOM                 <10/18/84>239)                                           VARIABLE SEED                                                                 : RANDOM ( N -- I )                              SEED @ U* SWAP DROP                     SEED @ ( BRESENHAM'S ALGORITHM  <10/18/84>237)                                         : BRESENHAM ( -- )                            LY2 @ LY1 @ -                           DUP 0< IF ABS -1 ELSE 1 THEN            DELDY ! DELP !                                                                                                                                                                                                                           (  RLP )                                                                                                                                                                                                                                                        (  RLP )                                                                                                                                                                                                                                                                                                                                                        DELDX @ DOTX +!                         DELDY @ DOTY +!                  THEN                                LOOP ;                              -->                                                                                     BRESENHAM ;                                                     -->                                                                             EXIT                                    RELINE DRAWS A LINE USING THE END       POINTS OF THE PREVIOUS LINE.    OTY @ DOT                       LERR @ 0< IF                                   DELSE @ LERR +!                         DELSX @ DOTX +!                         DELSY @ DOTY +!                  ELSE                                           DELDE @ LERR +!  ( LINE                   <10/18/84>238)                                         : LINE ( X1 Y1 X2 Y2 -- )                     LY2 ! LX2 ! LY1 ! LX1 !                 BRESENHAM ;                                                               : RELINE ( -- )                                                                                                                                                                                        (  RLP )                                                                 ( AFILL                  <10/12/84>240) ( SIMPLE-MINDED AREA FILL )                                                                                             VARIABLE MATCHME   0 MATCHME !                                                  -->             ,   LMASKS ,Y LDA,                          LEFT.MSK STA,                           PLA, TAY, PLA, RTS,         END-CODE                                -->                            (  RLP )                                                                          0= NOT IF, PLA, TAX, PLA, RTS,          THEN,                                              TYA, PHA, TXA, PHA,                     ' $SCANR JSR,                           ' $SCANL JSR,                           ' $HLINE JSR,                                           .A ROL,                                 # 7 LDY,                    BEGIN,      .A ROL,                      CS NOT IF, DEY,                          0< IF,    INY, SEC,                    THEN, THEN,                            CS UNTIL TXA, PHA,              BEGIN,      # 0 CPX,                     0= NOT WHILE,                                      DEX,                                    ' $YADDR JSR,                           GBASE )Y LDA, # 127 AND,                MATCHME CMP,        .D7 STY,                            # 127 LDA, LEFT.MSK STA,                PLA, TAY, PLA, RTS,           THEN,     DEY, LEFT.D7 STY,                       GBASE )Y LDA,                           MATCHME EOR, # 127 AND,     0= NOT UNTIL,                   ( $AFILLD                <10/12/84>243) ( "X" = Y COORD           )             ( "Y" = X OFFSET          )             ( ALL REGISTERS PRESERVED )                                                     CODE $AFILLD                                        PHA,( $SCANL                 < 9/30/84>241) ( "Y" = X OFFSET          )             ( ALL REGISTERS PRESERVED )             CODE $SCANL                                         PHA, TYA, PHA,              BEGIN,      # 0 CPY,                      0= IF,    LEFT    RIGHT.MSK STA,                          PLA, TAY, PLA, RTS,         END-CODE                                -->                                                                    (  RLP )                                                                                                                                                                                                                                                        (  RLP )                                                                         REPEAT,                                             # 255 LDY,                  BEGIN,      INY,                                    .A ROR,                     CS UNTIL,                                           RMASKS ,Y LDA,                                                                                                                                                                                                                                                                                      T.D7 STY,                           GBASE )Y LDA,                           MATCHME EOR, # 127 AND,      0= WHILE,  # 39 CPY,                     0= IF,    # 127 LDA, RIGHT.MSK STA,               PLA, TAY, PLA, RTS,           THEN,     INY,                                                                                                                                                                                                                                                                                ( $SCANR                 < 9/30/84>242) ( "Y" = X OFFSET          )             ( ALL REGISTERS PRESERVED )                                                     CODE $SCANR                                         PHA, TYA, PHA,              BEGIN,      RIGH    PLA, TAX, PLA, TAY,         REPEAT,     PLA, TAX, PLA, RTS,         END-CODE                                -->                                                                    (  RLP )                                                                 ( $AFILLU                <10/12/84>244) ( "X" = Y COORD           )             ( "Y" = X OFFSET          )             ( ALL REGISTERS PRESERVED )                                                     CODE $AFILLU                                        PHA,                                -->                                                                                                                                                    (  RLP )                                                                                                                                                                                                                                                                                                                                          0= NOT IF, RTS,                        THEN, THEN,                                         MATCHME STA,                            ' $AFILLD JSR,                          ' $AFILLU JSR,                          RTS,                        END-CODE                                                                                                                                                                                                                                                                                                    ' $7/MOD JSR,                           ' $YADDR JSR,                           7QUO LDY,                               GBASE )Y LDA, # 127 AND,                # 0 CMP,                    0= NOT IF,  # 127 CMP,                                                                                                                                                                                                                                                                          ( $AFILL                 < 9/30/84>245) ( ENTRY: "X" = Y COORD     )            (        "A" = X COORD LSB )            (        "Y" = X COORD MSB )            ( REGISTERS NOT PRESERVED  )                                                    CODE $AFILL                                                                                                                                                                                            (  RLP )                                                                 ,   PLA, TAX, PLA, RTS,         END-CODE                                -->                                                                                                            (  RLP )                                                                                                                                                                                                                                                                                                                                                     ' $SCANR JSR,                           ' $SCANL JSR,                           ' $HLINE JSR,                           PLA, TAX, PLA, TAY,                                                             INX, # 192 CPX,             0= UNTILE LDX,                              POPTWO JMP,                 END-CODE                                                                                                                EXIT                                                                     TXA, PHA,              BEGIN,      ' $YADDR JSR,                           GBASE )Y LDA, # 127 AND,                MATCHME CMP,                 0= NOT IF, PLA, TAX, PLA, RTS,          THEN,                                              TYA, PHA, TXA, PHA, ( AFILL                  < 9/30/84>246)                                         CODE AFILL ( X Y -- )                               XSAVE STX,                              ' $PULLXY JSR,                          ' $AFILL JSR,                           XSAV                                                                                                                                                                                                                                                                ( VLINE                  <10/ 3/84>248)                                         VARIABLE VY1     VARIABLE VY2                                                   CODE $VLINE    TXA, PHA,                               VY1 LDX,                  BEGIN,        T                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                S             OVER +                                  DDUP < IF SWAP THEN                     DO I HLINE LOOP ;                                                                                                                                                                                                                                                                                                                                                                                                                 SWAP THEN                     SETENDPTS                               DUP BARWDTH + 192 MIN                   SWAP DO I HLINE LOOP ;                                                    : VBAR ( X Y LENGTH -- )                      ROT DUP BARWDTH + SETENDPT                                                                                                                                                                                                                                                                ( HBAR VBAR              < 9/30/84>249)                                         6 CONSTANT BARWDTH                                                              : HBAR ( X Y LENGTH -- )                      ROT SWAP OVER +                         DDUP > IF                                                                                                                                                                                                   -->                                                           INE CALL ;                                                              EXIT                                                                                                                                                                                                  SAM I 20 * J 10 * CDRAW             LOOP LOOP ;                                                                   EXIT                                                                                                                                                                            : VLINE ( Y1 Y2 -- )                       SWAP 0 MAX 191 MIN                      SWAP 0 MAX 191 MIN                      DDUP > IF SWAP THEN                     VY2 ! VY1 !                             ' $VLC,                         1312 C, 0003 C,                         0003 C, 0012 C,                      DECIMAL                                                                         : SS SAM ROT ROT CDRAW ;                : FOO 14 0 DO 14 0 DO           XA, PHA,                               ' $HLINE JSR,                           PLA, TAX,                               VY2 CPX,                  CS NOT WHILE, INX,                      REPEAT,       PLA, TAX, RTS,           END-CODE                        ( SAMPLE CHAR            <10/14/84>250)                                         CREATE SAM 10 C, 5 C,                   4 BASE !                                   1300 C, 0000 C,                         3120 C, 0000 C,                         2030 C, 0001                                                                                                                                                                                                   -->                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ( 17:13)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   -->                                                                                                                                                                                                                                                             -->                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ( ASCTAB                 <11/ 2/84>260)                                         : GTASK ;                                                                       : GETMODE GMODE C@ ;                                                            CREATE ASCTAB  2                                -->                                     EXIT                                                                                                           (  RLP )   -->                                                                   -->                                     EXIT                                                                                                                                                                                                                    : !XY1 ( X1 Y1 -- ) TMARG ! LMARG ! ;                                           : !XY2 ( X2 Y2 -- ) BMARG ! RMARG ! ;                                           : !WINDOW ( X1 Y1 X2 Y2 -- )                  !XY2 !XY1 ;                                2 SETMODE                       LMARG @ RMARG @ SETENDPTS               TMARG @ BMARG @ VLINE                   SETMODE ;                                                              : GPAGE  GHOME CLW ;                                                                            VARIABLE GX      ( CURRENT CHAR )       VARIABLE GY      ( POSITION )                                                   : !CURSOR ( X Y -- ) GY ! GX ! ;        : @CURSOR ( -- X Y ) GX @ GY @ ;                                        ( GHOME GPAGE CLW        <11/ 2/84>263)                                         : GHOME  LMARG @ TMARG @ !CURSOR ;                                              ( CLEAR WINDOW )                                                                : CLW    GETMODE( MARGINS !CURSOR        <11/ 2/84>261)                                         VARIABLE LMARG    0  LMARG !            VARIABLE RMARG  279  RMARG !            VARIABLE TMARG    0  TMARG !            VARIABLE BMARG  191  BMARG !                                                                                                                                                                                                                              -->                                                                                                                                                                                                                                                                                                                  ( 17:13) ED, )   ( BACK SPACE, ETC. )                    ( CLIPS AT RIGHT AND BOTTOM OF SCREEN )                                                                                                                                                                                 : >COFFSET 2* ASCTAB + ;                                                        : >CDATA >COFFSET @ ASCTAB + 270 + ;                                            -->                                     EXIT                                             + GX +!                   ELSE DROP THEN ;                                                             -->                                                                             EXIT                                    ( DOES NOT RECOGNIZE CR, LINE FE048 ALLOT                                                       275 LOAD ( TINY-FONT IS 1498 BYTES )                                            : CMAXX ASCTAB 262 + @ ;                : CMAXY ASCTAB 258 + @ ;                                                ( <GEMIT>                <11/ 1/84>262)                                         : <GEMIT> ( CH -- )                        DUP >COFFSET @                          IF   >CDATA                                  DUP @CURSOR CDRAW                       C@ CDELX                                                                                                                                                                                                                                                                ( GCR GKEY               <11/ 1/84>264)                                         : KDELAY                                   400 0 DO QTERM IF LEAVE THEN LOOP ;                                          : GCUR   GETMODE 0 SETMODE                       BL >CDA                                                                                                                                                                                       (  RLP )                                                                               IF    OVER 0= DUP ?ESCAPE !             ELSE  DUP 13 =                          THEN ;                                                                    -->                                     EXIT                                                                                                                                                                                                                                                                                                                                    : GBLANK ( ADDR POS CH -- ADDR POS )          OVER 0>                                 IF GPUTC ELSE GCTRL THEN ;                                                : ?GDONE ( ADDR POS CH -- ADDR POS CH )       DUP 27 =                                                                                                                                                                                                                                                                                  ( GCTRL GBLANK           <11/ 1/84>267)                                         VARIABLE ?ESCAPE                                                                : GCTRL ( ADDR POS CH -- ADDR POS )           DROP BEEP ;                                       (                        <11/ 1/84>265) -->                                                                                                                                                                                                                                                     -->                                     EXIT                                                                                                           (  RLP )                                                                                                                                                                                                                                                                                                                                               ELSE BEEP THEN                          R> SETMODE ;                                                              : GPUTC ( ADDR POS CH -- ADDR POS )           DUP <GEMIT>                             3 PICK 3 PICK + C! 1+ ;                                                                   : GKEY ( -- CH )                           BEGIN GCUR QTERM UNTIL <KEY> ;                                               -->                                     EXIT                                                                             BL ROT C!                               DUP >CDATA C@ CDELX +                      NEGATE GX +!                            GX @ >R                              <GEMIT>                                    R> GX !             TA                               DUP @CURSOR CDRAW  KDELAY               DUP @CURSOR CDRAW  KDELAY               DROP SETMODE ;                                                         : GCR    LMARG @ GX !                            CMAXY CDELY + GY +! ;  ( GBKSP GPUTC            <11/ 2/84>266)                                         : GBKSP ( ADDR POS CH -- ADDR POS )           GETMODE >R 2 SETMODE                    DROP DUP 0>                             IF 1- DDUP +                               DUP C@                                 : GDIGIT                                                                                                                                                                                                                        ( GEXPECT                <11/ 1/84>268)                                         : GEXPECT ( ADDR COUNT -- )                GHOME                                   DDUP BL FILL ( COUNT ) >R               0  BEGIN                                      GKEY ?G                                                                                                                                                                                                                                                                        EXIT                                    ( DOES NOT RECOGNIZE CR, LINE FEED, )   ( BACK SPACE, ETC. )                    ( CLIPS AT RIGHT AND BOTTOM OF SCREEN )                                                                                         ;                                                                                                                                                                                                                                                                + GX +!                   ELSE DROP THEN ;                                                             : GEMIT <GEMIT> ;                                                               -->                                                                                                                                     : TEST   PAGE 0 20 XYTAB ." TEST: "              1HG                                     PAD 12 GINPUT                           PAD COUNT TYPE                          SPACE PAD COUNT . DROP ( GEMIT                  <10/15/84>271)                                         : <GEMIT> ( N -- )                         DUP >COFFSET @                          IF   >CDATA                                  DUP GX @ GY @ CDRAW                     C@ CDELX( GINPUT TEST            <11/ 1/84>269)                                         : GINPUT ( ADDR COUNT -- )                    OVER 1+ OVER GEXPECT                    OVER 1+ SWAP -TRAILING                  ROT C! DROP ;                                     ET 2* >ASCTAB + ;                                                       : >CDATA >COFFSET @ >ASCTAB + 270 + ;   -->                                                                    (  RLP )                                                        ( 17:13) OP DDROP ;                                                              -->                                     EXIT                                                                                                                                                                                            ASCTAB CONSTANT >ASCTAB                                                         : CMAXX >ASCTAB 262 + @ ;               : CMAXY >ASCTAB 258 + @ ;                                                       : >COFFS                    IF GCTRL  ELSE                       DUP BL =                                   IF GBLANK ELSE                             GPUTC                             THEN THEN THEN THEN                  REPEAT ( CH ) DROP                   R> DRRGIN                    191 CONSTANT BMARGIN                                                            VARIABLE GX      ( CURRENT CHAR )       VARIABLE GY      ( POSITION )                                                   CREATE ASCTAB  2048 ALLOT       DONE = NOT                    WHILE                                      DUP 8 = OVER 127 = OR                      IF GBKSP  ELSE                       DUP BL <                                   IF GCTRL  ELSE                       OVER R@ < NOT          ( ASCTAB                 <10/26/84>270) : GTASK ;                               ( : DELAY 0 DO 74 0 DO LOOP LOOP ; )                                              0 CONSTANT LMARGIN                    279 CONSTANT RMARGIN                      0 CONSTANT TMA                                                                                                                                                                                       (  RLP )   -->                                                           ( LARRY'S FONT           <10/19/84>272) : GPAGE 0 PAD C!                        (       GMODE C@ >R 2 SETMODE           (       LMARGIN RMARGIN SETENDPTS       (       TMARGIN BMARGIN VLINE           (       R> SETMODE                      )       LMARGIN                                                                                                                                                                                        (  RLP )                                                                         TINY-FONT FORGET TINY-FONT              EXIT                                                                                                                                                                                                                          RMARGIN > IF GCR THEN                   DUP PAD COUNT + C! 1 PAD +C!            DUP <GEMIT>                          THEN THEN DROP ;                                                             -->                                                                     : LARRY-FONT                               ASCTAB                                  278 BLOCK OVER        1024 CMOVE        279 BLOCK OVER 1024 + 1024 CMOVE        DROP ;                                                               +C! PAD COUNT + C@               DUP >CDATA C@ CDELX +                         NEGATE GX +!                      CBLOT                                ELSE BEEP THEN                       ELSE                                       DUP >CDATA C@ GX @ + 2+   ( GET FONTS              <10/19/84>275)                                         : TINY-FONT ( 1498 BYTES )                 276 BLOCK ASCTAB        1024 CMOVE      277 BLOCK ASCTAB 1024 +  474 CMOVE      ;                                                    ( GRAPHICS TESTS         <10/19/84>273)                                         : <GEMIT2> ( CH -- )                       DUP      13 = IF GCR                    ELSE DUP  8 = IF                           GX @ IF                                    -1 PAD                                 EXIT                                                                                                                                                                                                                            P GX @ GY @ CDRAW 3 DELAY             DUP GX @ GY @ CDRAW 3 DELAY             DROP SETMODE ;                    -->                                                                    (  RLP )                                                                            GPAGE                                   BEGIN                                         GKEY DUP 27 = NOT                 WHILE                                         <GEMIT2>                          REPEAT DROP ;                                              GX @ >R <GEMIT>                         R> GX ! R> SETMODE ;                                                      : GCUR ( -- )                                 GMODE C@ 0 SETMODE                      32 >CDATA                               DU QTERM UNTIL <KEY>            DUP 65 110 WITHIN                       IF 32 + THEN                         THEN ;                                                                       : GECHO                                    PAGE 1HG 0 20 XYTAB          GX ! TMARGIN GY ! ;                                             : GCR LMARGIN GX ! CMAXY CDELY + GY +!        0 PAD C! ;                                                                : CBLOT ( CH -- )                             GMODE C@ >R 2 SETMODE     ( GRAPHICS TESTS         <10/15/84>274)                                         : GKEY ( -- CH )                           BEGIN GCUR QTERM UNTIL <KEY>            DUP 47 =                                IF DROP BEEP                               BEGIN GCUR                                                                                                                                                                                                U]U]U]www3;www3	               
                                                                    % 1 F [ p           *6BNZfr~#/;GS_t1            =IUamy*6BNco{  'G %" X)Im'F(G)** 4 $H %HFFHGHG `R8` )` H+ ` /R(*IHH+++@` g8 c edc	e*	e                                                                                                                                                                                                                                                                        	       	        	     	     	        	     	30    	|3[[6     <=FG (  LI*	mIH`LII%0(F)G  +H&F'G &F    	                 	         	                                                                                                                                                                                                                           333  	  ;gcg;	  nscsn``	    	  >0  	?  	  3333>  	  cc66  
	    3333N     	  33  	  33	  ??  	  	  	  		s               	             	         	@` 0          	  	    	  	   	  	   	  			  	  	    	  				  	    	   	   	    	    	  	    	  
  	  
  	  

  	   	    	     <       		;oG     	3333  	CCf <         	?0?   	  nscsn   	;gcg;   	  33   	``nscsn   	  >c?~   	<?   	  nscsn`> 	;gccc   	    	  	33   	   
	    O3333     	  3333  	  	  	  	  	  		  		  	  	  	  	
  	  	

  	
  	  	         	         	  	  
    	        	      	    	  	    		33333  	  	  	6csf<  	333?333  	  	  	33  	  		Go;     	CGO[scC     	6ccc6  	333  	 6 c c s v \     	3333   	303   	?   	333333   	CCf f <   	  	  	  	  	       	     	  	       	  	   	  	
  	  	  	  	  	  	  	  	  	  			  	         	33333   	   	308?   	3003   	 08<60   	?303   	833   	0   	3333   	33>   	        	       	     	        	     	30    	|3[[6     	66c  	3333  	66    	            	         	   	      	 




 	   	  		  	      	  	  	  	    	      	        	        	    	  	  	  	  	
	  		             		                   	    	        		l l l l l      	 ~ [ x [~     
	[n 0 XlF     	 6 <  3 s ^     	        	   	   	 3?3    	 ?    	        	         	         	@` 0   ANLQT"72)                          472                            # . 9 D O Z e p {             
 +6ALWbmx(3>IT_ju%0;FQ\gr}                                                                                                                                                                                                                                                                